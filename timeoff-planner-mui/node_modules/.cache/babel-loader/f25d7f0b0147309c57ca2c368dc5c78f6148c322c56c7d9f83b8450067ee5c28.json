{"ast":null,"code":"var _jsxFileName = \"/Users/carson/Documents/pto planner/timeoff-planner-mui/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport \"./styles.css\";\nimport { PALETTE, contrastColor } from \"./utils\";\nimport { Box, Button, TextField, Select, MenuItem, Dialog, DialogTitle, DialogContent, DialogActions, Typography } from \"@mui/material\";\nimport Navbar from \"./components/Navbar\";\nimport Calendar from \"./components/Calendar\";\nimport DayModalContent from \"./components/DayModalContent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stateKey = \"timeoff_planner_v3_react\";\nfunction defaultData(year) {\n  return {\n    year,\n    categories: [{\n      id: \"cat_holiday\",\n      name: \"Holiday\",\n      qty: 10,\n      used: 0,\n      color: PALETTE[9]\n    }, {\n      id: \"cat_pto\",\n      name: \"PTO\",\n      qty: 15,\n      used: 0,\n      color: PALETTE[0]\n    }, {\n      id: \"cat_sick\",\n      name: \"Sick\",\n      qty: 10,\n      used: 0,\n      color: PALETTE[4]\n    }],\n    events: {}\n  };\n}\nexport default function App() {\n  _s();\n  var _data$categories$find;\n  const today = new Date();\n  const [data, setData] = useState(() => {\n    const raw = localStorage.getItem(stateKey);\n    if (raw) try {\n      return JSON.parse(raw);\n    } catch (e) {\n      console.warn(e);\n    }\n    return defaultData(today.getFullYear());\n  });\n  const [yearSelect, setYearSelect] = useState(data.year);\n  const [catName, setCatName] = useState(\"\");\n  const [catQty, setCatQty] = useState(\"\");\n  const [chosenColor, setChosenColor] = useState(PALETTE[0]);\n  const [paletteOpen, setPaletteOpen] = useState(false);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [modalCtx, setModalCtx] = useState(null);\n  const fileInputRef = useRef(null);\n  const dragCatRef = useRef(null);\n  const [draggingCatId, setDraggingCatId] = useState(null);\n  const [hoverDate, setHoverDate] = useState(null);\n  useEffect(() => {\n    localStorage.setItem(stateKey, JSON.stringify(data));\n  }, [data]);\n  useEffect(() => {\n    // keep year select in sync\n    setYearSelect(data.year);\n  }, [data.year]);\n  function save(newData) {\n    setData(newData);\n    localStorage.setItem(stateKey, JSON.stringify(newData));\n  }\n  function countUsed(catId) {\n    let sum = 0;\n    Object.values(data.events).forEach(ev => {\n      if (ev && ev.catId === catId) sum += ev.half ? 0.5 : 1;\n    });\n    return sum;\n  }\n  function updateUsed(newData) {\n    newData.categories.forEach(c => c.used = countUsed(c.id));\n  }\n\n  // addCategory can be called with (name, qty, color) or without args (uses local inputs)\n  function addCategory(nameArg, qtyArg, colorArg) {\n    const name = nameArg != null ? String(nameArg).trim() : catName.trim();\n    const qty = qtyArg != null ? parseFloat(qtyArg) || 0 : parseFloat(catQty) || 0;\n    const color = colorArg || chosenColor || PALETTE[0];\n    if (!name || qty <= 0) {\n      alert(\"Please provide a name and quantity > 0\");\n      return;\n    }\n    const id = \"cat_\" + Date.now() + \"_\" + Math.floor(Math.random() * 9999);\n    const next = {\n      ...data,\n      categories: [...data.categories, {\n        id,\n        name,\n        qty,\n        used: 0,\n        color\n      }]\n    };\n    updateUsed(next);\n    save(next);\n    // clear local inputs if used\n    setCatName(\"\");\n    setCatQty(\"\");\n    setChosenColor(PALETTE[0]);\n  }\n  function deleteCategory(catId) {\n    const next = {\n      ...data,\n      categories: data.categories.filter(c => c.id !== catId)\n    };\n    for (const day in next.events) if (next.events[day] && next.events[day].catId === catId) delete next.events[day];\n    updateUsed(next);\n    save(next);\n  }\n  function onDrop(date, e) {\n    e.preventDefault();\n    const catId = e.dataTransfer.getData(\"text/plain\") || dragCatRef.current && dragCatRef.current.id;\n    if (!catId) return;\n    const cat = data.categories.find(c => c.id === catId);\n    if (!cat) return;\n    const used = countUsed(cat.id);\n    if (used + 1 > cat.qty + 0.001) {\n      alert(\"No remaining days in this category\");\n      return;\n    }\n    const next = {\n      ...data,\n      events: {\n        ...data.events,\n        [date]: {\n          catId: cat.id,\n          half: false\n        }\n      }\n    };\n    updateUsed(next);\n    save(next);\n    // clear drag state after drop\n    setDraggingCatId(null);\n    setHoverDate(null);\n    dragCatRef.current = null;\n  }\n  function onDragStartCat(e, cat) {\n    dragCatRef.current = cat;\n    e.dataTransfer.setData(\"text/plain\", cat.id);\n    setDraggingCatId(cat.id);\n    // Build a rectangular drag image with the category name and a small pointer\n    const paddingX = 12;\n    const paddingY = 8;\n    const triH = 8; // triangle height\n    const fontSize = 14;\n    const font = `bold ${fontSize}px sans-serif`;\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    ctx.font = font;\n    const text = cat.name || '';\n    const textWidth = Math.ceil(ctx.measureText(text).width);\n    const rectW = textWidth + paddingX * 2;\n    const rectH = fontSize + paddingY * 2;\n    canvas.width = rectW;\n    canvas.height = rectH + triH;\n\n    // helper for rounded rect\n    const radius = 8;\n    function roundRect(x, y, w, h, r) {\n      ctx.beginPath();\n      ctx.moveTo(x + r, y);\n      ctx.arcTo(x + w, y, x + w, y + h, r);\n      ctx.arcTo(x + w, y + h, x, y + h, r);\n      ctx.arcTo(x, y + h, x, y, r);\n      ctx.arcTo(x, y, x + w, y, r);\n      ctx.closePath();\n    }\n\n    // draw rounded rect background\n    roundRect(0, 0, rectW, rectH, radius);\n    ctx.fillStyle = cat.color;\n    ctx.fill();\n\n    // draw triangle pointer\n    const triX = rectW / 2;\n    ctx.beginPath();\n    ctx.moveTo(triX - triH, rectH);\n    ctx.lineTo(triX + triH, rectH);\n    ctx.lineTo(triX, rectH + triH);\n    ctx.closePath();\n    ctx.fillStyle = cat.color;\n    ctx.fill();\n\n    // draw text\n    ctx.fillStyle = contrastColor(cat.color);\n    ctx.font = font;\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.fillText(text, rectW / 2, rectH / 2);\n    const img = new Image();\n    img.src = canvas.toDataURL('image/png');\n    img.onload = () => {\n      try {\n        // hotspot positioned at triangle tip so the image pins above the cursor\n        e.dataTransfer.setDragImage(img, Math.round(rectW / 2), Math.round(rectH + triH - 1));\n      } catch (err) {}\n    };\n  }\n  function handleDragEnd() {\n    setDraggingCatId(null);\n    setHoverDate(null);\n    dragCatRef.current = null;\n  }\n  function openDayModal(date) {\n    setModalCtx({\n      type: \"day\",\n      date,\n      ev: data.events[date] || null\n    });\n    setModalOpen(true);\n  }\n  function applyModalChanges(ctx) {\n    if (!ctx) return;\n    const date = ctx.date;\n    const half = !!ctx.half;\n    const selectedSwap = ctx.swapTo;\n    const next = {\n      ...data,\n      events: {\n        ...data.events\n      }\n    };\n    if (selectedSwap) {\n      next.events[date] = {\n        catId: selectedSwap,\n        half\n      };\n    } else {\n      const ev = next.events[date];\n      if (ev && ev.catId) {\n        ev.half = half;\n      }\n    }\n    updateUsed(next);\n    save(next);\n    setModalOpen(false);\n  }\n  function exportJSON() {\n    const blob = new Blob([JSON.stringify(data, null, 2)], {\n      type: \"application/json\"\n    });\n    const a = document.createElement(\"a\");\n    a.href = URL.createObjectURL(blob);\n    a.download = `timeoff-${data.year}.json`;\n    a.click();\n  }\n  function importJSONFile(files) {\n    const f = files[0];\n    if (!f) return;\n    const reader = new FileReader();\n    reader.onload = ev => {\n      try {\n        const obj = JSON.parse(ev.target.result);\n        if (obj && obj.categories) {\n          updateUsed(obj);\n          setData(obj);\n        } else alert(\"Invalid file\");\n      } catch (err) {\n        alert(\"Invalid JSON\");\n      }\n    };\n    reader.readAsText(f);\n  }\n  function clearAll() {\n    if (window.confirm(\"Clear all events?\")) {\n      const next = {\n        ...data,\n        events: {}\n      };\n      updateUsed(next);\n      save(next);\n    }\n  }\n  function updateCategory(catId, name, qty, color) {\n    const next = {\n      ...data,\n      categories: data.categories.map(c => c.id === catId ? {\n        ...c,\n        name,\n        qty,\n        color: color || c.color\n      } : c)\n    };\n    updateUsed(next);\n    save(next);\n  }\n\n  // render calendar\n  function onYearChange(y) {\n    const next = {\n      ...data,\n      year: y\n    };\n    setData(next);\n    setYearSelect(y);\n    save(next);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      data: data,\n      year: data.year,\n      onYearChange: onYearChange,\n      catName: catName,\n      setCatName: setCatName,\n      catQty: catQty,\n      setCatQty: setCatQty,\n      chosenColor: chosenColor,\n      setChosenColor: setChosenColor,\n      paletteOpen: paletteOpen,\n      setPaletteOpen: setPaletteOpen,\n      addCategory: addCategory,\n      exportJSON: exportJSON,\n      importJSONFile: importJSONFile,\n      fileInputRef: fileInputRef,\n      deleteCategory: deleteCategory,\n      onDragStartCat: onDragStartCat,\n      onDragEnd: handleDragEnd,\n      draggingCatId: draggingCatId,\n      clearAll: clearAll,\n      PALETTE: PALETTE\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n      data: data,\n      onDrop: onDrop,\n      openDayModal: openDayModal,\n      onDayDragEnter: date => setHoverDate(date),\n      onDayDragLeave: date => setHoverDate(null),\n      hoverDate: hoverDate,\n      draggingCatColor: draggingCatId ? (_data$categories$find = data.categories.find(c => c.id === draggingCatId)) === null || _data$categories$find === void 0 ? void 0 : _data$categories$find.color : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: modalOpen,\n      onClose: () => setModalOpen(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Day options\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: modalCtx && /*#__PURE__*/_jsxDEV(DayModalContent, {\n          ctx: modalCtx,\n          data: data,\n          onChange: newCtx => setModalCtx(newCtx),\n          onRemove: date => {\n            const next = {\n              ...data,\n              events: {\n                ...data.events\n              }\n            };\n            delete next.events[date];\n            updateUsed(next);\n            save(next);\n            setModalOpen(false);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setModalOpen(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            applyModalChanges(modalCtx);\n          },\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"I/fhDO9xzXbOv05oMQa1+1MRT4o=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useRef","PALETTE","contrastColor","Box","Button","TextField","Select","MenuItem","Dialog","DialogTitle","DialogContent","DialogActions","Typography","Navbar","Calendar","DayModalContent","jsxDEV","_jsxDEV","stateKey","defaultData","year","categories","id","name","qty","used","color","events","App","_s","_data$categories$find","today","Date","data","setData","raw","localStorage","getItem","JSON","parse","e","console","warn","getFullYear","yearSelect","setYearSelect","catName","setCatName","catQty","setCatQty","chosenColor","setChosenColor","paletteOpen","setPaletteOpen","modalOpen","setModalOpen","modalCtx","setModalCtx","fileInputRef","dragCatRef","draggingCatId","setDraggingCatId","hoverDate","setHoverDate","setItem","stringify","save","newData","countUsed","catId","sum","Object","values","forEach","ev","half","updateUsed","c","addCategory","nameArg","qtyArg","colorArg","String","trim","parseFloat","alert","now","Math","floor","random","next","deleteCategory","filter","day","onDrop","date","preventDefault","dataTransfer","getData","current","cat","find","onDragStartCat","paddingX","paddingY","triH","fontSize","font","canvas","document","createElement","ctx","getContext","text","textWidth","ceil","measureText","width","rectW","rectH","height","radius","roundRect","x","y","w","h","r","beginPath","moveTo","arcTo","closePath","fillStyle","fill","triX","lineTo","textAlign","textBaseline","fillText","img","Image","src","toDataURL","onload","setDragImage","round","err","handleDragEnd","openDayModal","type","applyModalChanges","selectedSwap","swapTo","exportJSON","blob","Blob","a","href","URL","createObjectURL","download","click","importJSONFile","files","f","reader","FileReader","obj","target","result","readAsText","clearAll","window","confirm","updateCategory","map","onYearChange","className","children","onDragEnd","fileName","_jsxFileName","lineNumber","columnNumber","onDayDragEnter","onDayDragLeave","draggingCatColor","open","onClose","onChange","newCtx","onRemove","onClick","_c","$RefreshReg$"],"sources":["/Users/carson/Documents/pto planner/timeoff-planner-mui/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport \"./styles.css\";\nimport { PALETTE, contrastColor } from \"./utils\";\nimport {\n  Box,\n  Button,\n  TextField,\n  Select,\n  MenuItem,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Typography,\n} from \"@mui/material\";\nimport Navbar from \"./components/Navbar\";\nimport Calendar from \"./components/Calendar\";\nimport DayModalContent from \"./components/DayModalContent\";\n\nconst stateKey = \"timeoff_planner_v3_react\";\n\nfunction defaultData(year) {\n  return {\n    year,\n    categories: [\n      { id: \"cat_holiday\", name: \"Holiday\", qty: 10, used: 0, color: PALETTE[9] },\n      { id: \"cat_pto\", name: \"PTO\", qty: 15, used: 0, color: PALETTE[0] },\n      { id: \"cat_sick\", name: \"Sick\", qty: 10, used: 0, color: PALETTE[4] },\n    ],\n    events: {},\n  };\n}\n\nexport default function App() {\n  const today = new Date();\n  const [data, setData] = useState(() => {\n    const raw = localStorage.getItem(stateKey);\n    if (raw)\n      try {\n        return JSON.parse(raw);\n      } catch (e) {\n        console.warn(e);\n      }\n    return defaultData(today.getFullYear());\n  });\n  const [yearSelect, setYearSelect] = useState(data.year);\n  const [catName, setCatName] = useState(\"\");\n  const [catQty, setCatQty] = useState(\"\");\n  const [chosenColor, setChosenColor] = useState(PALETTE[0]);\n  const [paletteOpen, setPaletteOpen] = useState(false);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [modalCtx, setModalCtx] = useState(null);\n  const fileInputRef = useRef(null);\n  const dragCatRef = useRef(null);\n  const [draggingCatId, setDraggingCatId] = useState(null);\n  const [hoverDate, setHoverDate] = useState(null);\n\n  useEffect(() => {\n    localStorage.setItem(stateKey, JSON.stringify(data));\n  }, [data]);\n\n  useEffect(() => {\n    // keep year select in sync\n    setYearSelect(data.year);\n  }, [data.year]);\n\n  function save(newData) {\n    setData(newData);\n    localStorage.setItem(stateKey, JSON.stringify(newData));\n  }\n\n  function countUsed(catId) {\n    let sum = 0;\n    Object.values(data.events).forEach((ev) => {\n      if (ev && ev.catId === catId) sum += ev.half ? 0.5 : 1;\n    });\n    return sum;\n  }\n\n  function updateUsed(newData) {\n    newData.categories.forEach((c) => (c.used = countUsed(c.id)));\n  }\n\n  // addCategory can be called with (name, qty, color) or without args (uses local inputs)\n  function addCategory(nameArg, qtyArg, colorArg) {\n    const name = nameArg != null ? String(nameArg).trim() : catName.trim();\n    const qty =\n      qtyArg != null ? parseFloat(qtyArg) || 0 : parseFloat(catQty) || 0;\n    const color = colorArg || chosenColor || PALETTE[0];\n    if (!name || qty <= 0) {\n      alert(\"Please provide a name and quantity > 0\");\n      return;\n    }\n    const id = \"cat_\" + Date.now() + \"_\" + Math.floor(Math.random() * 9999);\n    const next = {\n      ...data,\n      categories: [...data.categories, { id, name, qty, used: 0, color }],\n    };\n    updateUsed(next);\n    save(next);\n    // clear local inputs if used\n    setCatName(\"\");\n    setCatQty(\"\");\n    setChosenColor(PALETTE[0]);\n  }\n\n  function deleteCategory(catId) {\n    const next = {\n      ...data,\n      categories: data.categories.filter((c) => c.id !== catId),\n    };\n    for (const day in next.events)\n      if (next.events[day] && next.events[day].catId === catId)\n        delete next.events[day];\n    updateUsed(next);\n    save(next);\n  }\n\n  function onDrop(date, e) {\n    e.preventDefault();\n    const catId =\n      e.dataTransfer.getData(\"text/plain\") ||\n      (dragCatRef.current && dragCatRef.current.id);\n    if (!catId) return;\n    const cat = data.categories.find((c) => c.id === catId);\n    if (!cat) return;\n    const used = countUsed(cat.id);\n    if (used + 1 > cat.qty + 0.001) {\n      alert(\"No remaining days in this category\");\n      return;\n    }\n    const next = {\n      ...data,\n      events: { ...data.events, [date]: { catId: cat.id, half: false } },\n    };\n    updateUsed(next);\n    save(next);\n    // clear drag state after drop\n    setDraggingCatId(null);\n    setHoverDate(null);\n    dragCatRef.current = null;\n  }\n\n  function onDragStartCat(e, cat) {\n    dragCatRef.current = cat;\n    e.dataTransfer.setData(\"text/plain\", cat.id);\n    setDraggingCatId(cat.id);\n    // Build a rectangular drag image with the category name and a small pointer\n    const paddingX = 12;\n    const paddingY = 8;\n    const triH = 8; // triangle height\n    const fontSize = 14;\n    const font = `bold ${fontSize}px sans-serif`;\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    ctx.font = font;\n    const text = cat.name || '';\n    const textWidth = Math.ceil(ctx.measureText(text).width);\n    const rectW = textWidth + paddingX * 2;\n    const rectH = fontSize + paddingY * 2;\n    canvas.width = rectW;\n    canvas.height = rectH + triH;\n\n    // helper for rounded rect\n    const radius = 8;\n    function roundRect(x, y, w, h, r){\n      ctx.beginPath();\n      ctx.moveTo(x + r, y);\n      ctx.arcTo(x + w, y, x + w, y + h, r);\n      ctx.arcTo(x + w, y + h, x, y + h, r);\n      ctx.arcTo(x, y + h, x, y, r);\n      ctx.arcTo(x, y, x + w, y, r);\n      ctx.closePath();\n    }\n\n    // draw rounded rect background\n    roundRect(0, 0, rectW, rectH, radius);\n    ctx.fillStyle = cat.color;\n    ctx.fill();\n\n    // draw triangle pointer\n    const triX = rectW / 2;\n    ctx.beginPath();\n    ctx.moveTo(triX - triH, rectH);\n    ctx.lineTo(triX + triH, rectH);\n    ctx.lineTo(triX, rectH + triH);\n    ctx.closePath();\n    ctx.fillStyle = cat.color;\n    ctx.fill();\n\n    // draw text\n    ctx.fillStyle = contrastColor(cat.color);\n    ctx.font = font;\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.fillText(text, rectW / 2, rectH / 2);\n\n    const img = new Image();\n    img.src = canvas.toDataURL('image/png');\n    img.onload = () => {\n      try{\n        // hotspot positioned at triangle tip so the image pins above the cursor\n        e.dataTransfer.setDragImage(img, Math.round(rectW/2), Math.round(rectH + triH - 1));\n      }catch(err){}\n    };\n  }\n\n  function handleDragEnd(){\n    setDraggingCatId(null);\n    setHoverDate(null);\n    dragCatRef.current = null;\n  }\n\n  function openDayModal(date) {\n    setModalCtx({ type: \"day\", date, ev: data.events[date] || null });\n    setModalOpen(true);\n  }\n\n  function applyModalChanges(ctx) {\n    if (!ctx) return;\n    const date = ctx.date;\n    const half = !!ctx.half;\n    const selectedSwap = ctx.swapTo;\n    const next = { ...data, events: { ...data.events } };\n    if (selectedSwap) {\n      next.events[date] = { catId: selectedSwap, half };\n    } else {\n      const ev = next.events[date];\n      if (ev && ev.catId) {\n        ev.half = half;\n      }\n    }\n    updateUsed(next);\n    save(next);\n    setModalOpen(false);\n  }\n\n  function exportJSON() {\n    const blob = new Blob([JSON.stringify(data, null, 2)], {\n      type: \"application/json\",\n    });\n    const a = document.createElement(\"a\");\n    a.href = URL.createObjectURL(blob);\n    a.download = `timeoff-${data.year}.json`;\n    a.click();\n  }\n\n  function importJSONFile(files) {\n    const f = files[0];\n    if (!f) return;\n    const reader = new FileReader();\n    reader.onload = (ev) => {\n      try {\n        const obj = JSON.parse(ev.target.result);\n        if (obj && obj.categories) {\n          updateUsed(obj);\n          setData(obj);\n        } else alert(\"Invalid file\");\n      } catch (err) {\n        alert(\"Invalid JSON\");\n      }\n    };\n    reader.readAsText(f);\n  }\n\n  function clearAll() {\n    if (window.confirm(\"Clear all events?\")) {\n      const next = { ...data, events: {} };\n      updateUsed(next);\n      save(next);\n    }\n  }\n\n  function updateCategory(catId, name, qty, color) {\n    const next = {\n      ...data,\n      categories: data.categories.map((c) =>\n        c.id === catId ? { ...c, name, qty, color: color || c.color } : c\n      ),\n    };\n    updateUsed(next);\n    save(next);\n  }\n\n  // render calendar\n  function onYearChange(y) {\n    const next = { ...data, year: y };\n    setData(next);\n    setYearSelect(y);\n    save(next);\n  }\n\n  return (\n    <Box className=\"app\">\n      <Navbar\n        data={data}\n        year={data.year}\n        onYearChange={onYearChange}\n        catName={catName}\n        setCatName={setCatName}\n        catQty={catQty}\n        setCatQty={setCatQty}\n        chosenColor={chosenColor}\n        setChosenColor={setChosenColor}\n        paletteOpen={paletteOpen}\n        setPaletteOpen={setPaletteOpen}\n        addCategory={addCategory}\n        exportJSON={exportJSON}\n        importJSONFile={importJSONFile}\n        fileInputRef={fileInputRef}\n        deleteCategory={deleteCategory}\n        onDragStartCat={onDragStartCat}\n        onDragEnd={handleDragEnd}\n        draggingCatId={draggingCatId}\n        clearAll={clearAll}\n        PALETTE={PALETTE}\n      />\n\n      <Calendar\n        data={data}\n        onDrop={onDrop}\n        openDayModal={openDayModal}\n        onDayDragEnter={(date)=> setHoverDate(date)}\n        onDayDragLeave={(date)=> setHoverDate(null)}\n        hoverDate={hoverDate}\n        draggingCatColor={draggingCatId ? (data.categories.find(c=>c.id===draggingCatId)?.color) : null}\n      />\n\n      <Dialog open={modalOpen} onClose={() => setModalOpen(false)}>\n        <DialogTitle>Day options</DialogTitle>\n        <DialogContent>\n          {modalCtx && (\n            <DayModalContent\n              ctx={modalCtx}\n              data={data}\n              onChange={(newCtx) => setModalCtx(newCtx)}\n              onRemove={(date) => {\n                const next = { ...data, events: { ...data.events } };\n                delete next.events[date];\n                updateUsed(next);\n                save(next);\n                setModalOpen(false);\n              }}\n            />\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setModalOpen(false)}>Close</Button>\n          <Button\n            onClick={() => {\n              applyModalChanges(modalCtx);\n            }}\n          >\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}