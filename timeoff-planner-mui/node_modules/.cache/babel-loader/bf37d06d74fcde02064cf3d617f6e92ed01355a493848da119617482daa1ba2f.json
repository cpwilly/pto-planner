{"ast":null,"code":"var _jsxFileName = \"/Users/carson/Documents/pto planner/timeoff-planner-mui/src/components/Calendar.jsx\";\nimport React from 'react';\nimport { hexToRgba } from '../utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Calendar({\n  data,\n  onDrop,\n  openDayModal,\n  onDayDragEnter,\n  onDayDragLeave,\n  hoverDate,\n  draggingCatColor\n}) {\n  function renderCalendar() {\n    const year = data.year;\n    const months = [];\n    for (let m = 0; m < 12; m++) {\n      const first = new Date(year, m, 1).getDay();\n      const daysInMonth = new Date(year, m + 1, 0).getDate();\n      const cells = [];\n      for (let i = 0; i < first; i++) cells.push({\n        empty: true\n      });\n      for (let d = 1; d <= daysInMonth; d++) {\n        const date = `${year}-${String(m + 1).padStart(2, '0')}-${String(d).padStart(2, '0')}`;\n        const ev = data.events[date];\n        cells.push({\n          date,\n          day: d,\n          ev\n        });\n      }\n      months.push({\n        m,\n        name: new Date(year, m, 1).toLocaleString(undefined, {\n          month: 'long'\n        }),\n        cells\n      });\n    }\n    return months;\n  }\n  const months = renderCalendar();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calendar\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"year-grid\",\n      children: months.map(month => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"month\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"month-title\",\n          children: [month.name, \" \", data.year]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"weekdays\",\n          children: ['S', 'M', 'T', 'W', 'T', 'F', 'S'].map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: d\n          }, d, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 78\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"days\",\n          children: month.cells.map((cell, i) => {\n            var _data$categories$find;\n            if (cell.empty) return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"day inactive\"\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 39\n            }, this);\n            const ev = cell.ev;\n            const bg = ev && ev.catId ? ((_data$categories$find = data.categories.find(c => c.id === ev.catId)) === null || _data$categories$find === void 0 ? void 0 : _data$categories$find.color) || 'transparent' : 'transparent';\n            const date = cell.date;\n            const isHover = hoverDate === date && draggingCatColor;\n            const dropFill = draggingCatColor ? hexToRgba(draggingCatColor, 0.12) : undefined;\n            const dropOutline = draggingCatColor ? hexToRgba(draggingCatColor, 0.5) : undefined;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: 'day' + (ev ? ' filled' : '') + (isHover ? ' drop-target' : ''),\n              onDragOver: e => {\n                e.preventDefault();\n                onDayDragEnter && onDayDragEnter(date);\n              },\n              onDrop: e => onDrop(date, e),\n              onDragLeave: () => onDayDragLeave && onDayDragLeave(date),\n              onClick: () => openDayModal(date),\n              style: {\n                background: isHover ? dropFill : bg,\n                ['--drop-color']: dropOutline\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"date-num\",\n                style: {\n                  color: ev ? function () {\n                    try {\n                      var _data$categories$find2;\n                      const col = ((_data$categories$find2 = data.categories.find(c => c.id === ev.catId)) === null || _data$categories$find2 === void 0 ? void 0 : _data$categories$find2.color) || '#000';\n                      const c = col.replace('#', '');\n                      const r = parseInt(c.substring(0, 2), 16);\n                      const g = parseInt(c.substring(2, 4), 16);\n                      const b = parseInt(c.substring(4, 6), 16);\n                      const lum = (0.2126 * r + 0.7152 * g + 0.0722 * b) / 255;\n                      return lum > 0.55 ? '#042029' : '#ffffff';\n                    } catch (e) {\n                      return '#ffffff';\n                    }\n                  }() : undefined\n                },\n                children: cell.day\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 21\n              }, this)\n            }, date, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 13\n        }, this)]\n      }, month.m, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n_c = Calendar;\nvar _c;\n$RefreshReg$(_c, \"Calendar\");","map":{"version":3,"names":["React","hexToRgba","jsxDEV","_jsxDEV","Calendar","data","onDrop","openDayModal","onDayDragEnter","onDayDragLeave","hoverDate","draggingCatColor","renderCalendar","year","months","m","first","Date","getDay","daysInMonth","getDate","cells","i","push","empty","d","date","String","padStart","ev","events","day","name","toLocaleString","undefined","month","className","children","map","fileName","_jsxFileName","lineNumber","columnNumber","cell","_data$categories$find","bg","catId","categories","find","c","id","color","isHover","dropFill","dropOutline","onDragOver","e","preventDefault","onDragLeave","onClick","style","background","_data$categories$find2","col","replace","r","parseInt","substring","g","b","lum","_c","$RefreshReg$"],"sources":["/Users/carson/Documents/pto planner/timeoff-planner-mui/src/components/Calendar.jsx"],"sourcesContent":["import React from 'react';\nimport { hexToRgba } from '../utils';\n\nexport default function Calendar({ data, onDrop, openDayModal, onDayDragEnter, onDayDragLeave, hoverDate, draggingCatColor }){\n  function renderCalendar(){\n    const year = data.year;\n    const months = [];\n    for(let m=0;m<12;m++){\n      const first = new Date(year,m,1).getDay();\n      const daysInMonth = new Date(year,m+1,0).getDate();\n      const cells = [];\n      for(let i=0;i<first;i++) cells.push({ empty: true });\n      for(let d=1; d<=daysInMonth; d++){\n        const date = `${year}-${String(m+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;\n        const ev = data.events[date];\n        cells.push({ date, day:d, ev });\n      }\n      months.push({ m, name: new Date(year,m,1).toLocaleString(undefined,{month:'long'}), cells });\n    }\n    return months;\n  }\n\n  const months = renderCalendar();\n\n  return (\n    <div className=\"calendar\">\n      <div className=\"year-grid\">\n        {months.map(month => (\n          <div key={month.m} className=\"month\">\n            <h3 className=\"month-title\">{month.name} {data.year}</h3>\n            <div className=\"weekdays\">{['S','M','T','W','T','F','S'].map(d=> <div key={d}>{d}</div>)}</div>\n            <div className=\"days\">\n                {month.cells.map((cell, i) => {\n                if(cell.empty) return <div key={i} className=\"day inactive\" />;\n                const ev = cell.ev;\n                const bg = ev && ev.catId ? (data.categories.find(c=>c.id===ev.catId)?.color || 'transparent') : 'transparent';\n                const date = cell.date;\n                  const isHover = hoverDate === date && draggingCatColor;\n                  const dropFill = draggingCatColor ? hexToRgba(draggingCatColor, 0.12) : undefined;\n                  const dropOutline = draggingCatColor ? hexToRgba(draggingCatColor, 0.5) : undefined;\n                return (\n                  <div key={date}\n                    className={'day' + (ev ? ' filled' : '') + (isHover ? ' drop-target' : '')}\n                    onDragOver={(e)=>{ e.preventDefault(); onDayDragEnter && onDayDragEnter(date); }}\n                    onDrop={(e)=>onDrop(date,e)}\n                    onDragLeave={()=> onDayDragLeave && onDayDragLeave(date)}\n                    onClick={()=> openDayModal(date)}\n                    style={{background: isHover ? dropFill : bg, ['--drop-color']: dropOutline }}\n                  >\n                    <div className=\"date-num\" style={{color: ev ? (function(){\n                      try{ const col = data.categories.find(c=>c.id===ev.catId)?.color || '#000'; const c = col.replace('#',''); const r = parseInt(c.substring(0,2),16); const g = parseInt(c.substring(2,4),16); const b = parseInt(c.substring(4,6),16); const lum = (0.2126*r + 0.7152*g + 0.0722*b) / 255; return lum > 0.55 ? '#042029' : '#ffffff'; }catch(e){return '#ffffff'}\n                    })() : undefined}}>{cell.day}</div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}