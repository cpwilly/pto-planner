:root{
  --bg: #f6f8fb;
  --nav: #ffffff;
  --accent: #2563eb; /* blue-600 */
  --muted: #64748b; /* slate-500 */
  --card: #ffffff;
  --muted-bg: #f1f5f9;
  --border: #e6eef8;
  color-scheme: light;
}
html,body,#root{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,Roboto,Arial;background:var(--bg);color:#0f172a}
.app{display:flex;min-height:100vh;overflow:visible}
.navbar{background:var(--nav);width:340px;padding:20px;box-shadow:0 6px 18px rgba(15,23,42,0.06);overflow:auto;border-right:1px solid var(--border);position:fixed;top:0;left:0;height:100vh;z-index:1000}
/* Navbar trash/grey when dragging a day */
.navbar.trash-active{background:#f3f4f6}
/* full-cover navbar trash overlay */
.navbar-trash-cover{position:fixed;left:0;top:0;height:100vh;width:340px;z-index:2000;display:flex;align-items:center;justify-content:center;background:rgba(243,244,246,0.95);pointer-events:auto}
.navbar-trash-cover.hover{background:rgba(255,245,245,0.98)}
.navbar-trash-inner{display:flex;flex-direction:column;align-items:center;gap:8px;color:var(--muted);}
.calendar{flex:1;overflow:auto;padding:28px;margin-left:340px}
.year-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:18px}
.month{background:var(--card);border-radius:12px;padding:12px;border:1px solid var(--border);box-shadow:0 4px 14px rgba(15,23,42,0.03)}
.weekdays{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}
.days{display:grid;grid-template-columns:repeat(7,1fr);gap:0}
.weekdays div{font-size:12px;color:var(--muted);text-align:center}
.day{height:60px;border-radius:8px;border:1px solid transparent;position:relative;padding:8px;transition:transform .12s,box-shadow .12s,background .12s;overflow:hidden;background:transparent}
.day:hover{transform:translateY(-4px);box-shadow:0 10px 24px rgba(15,23,42,0.06)}
.day.inactive{opacity:0.28;pointer-events:none}
.date-num{position:absolute;top:8px;right:12px;font-size:12px;color:var(--muted);font-weight:700;z-index:5}
.drop-highlight{outline:3px dashed rgba(37,99,235,0.16);outline-offset:2px}
.day.drop-target{outline:3px dashed var(--drop-color);outline-offset:2px}
.days .day.weekend{background:#f3f4f6; border-radius: 0;}
.day.filled.connected-left{border-top-left-radius:0;border-bottom-left-radius:0}
.day.filled.connected-right{border-top-right-radius:0;border-bottom-right-radius:0}
.day.filled.connected-both{border-radius:0}
/* Selection (click-drag) visuals */
.day.selected:not(.filled){background:rgba(37,99,235,0.08)}
.day.selected.weekend:not(.filled){background:rgba(37,99,235,0.06)}
/* if weekend and connected to anything, apply color f3f4f6 */
.color-swatch{width:34px;height:34px;border-radius:8px;border:2px solid var(--border);cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 6px rgba(2,6,23,0.04)}
.category{display:flex;align-items:center;gap:12px;padding:10px;border-radius:10px;background:var(--muted-bg);margin-bottom:10px;cursor:grab;border:1px solid var(--border)}
.category:hover{transform:translateY(-4px);box-shadow:0 10px 24px rgba(15,23,42,0.04)}
.category.dragging{opacity:0.95}
.category.dragging .cat-color{width:28px;height:28px;border-radius:6px;box-shadow:0 6px 16px rgba(2,6,23,0.06)}
.meta .name{font-weight:700; color: #0f172a}
.small-btn{background:#ffffff;border:1px solid var(--border);padding:8px;border-radius:10px;color:var(--muted);cursor:pointer;box-shadow:0 3px 8px rgba(2,6,23,0.03)}
.small-btn:hover{transform:translateY(-1px)}
.footer-note{font-size:13px;color:var(--muted);margin-top:10px}

/* Segmented button (used in day modal) */
.seg-btn{flex:1;padding:8px 10px;border-radius:8px;border:1px solid var(--border);background:#fff;color:var(--muted);cursor:pointer}
.seg-btn.selected{background:var(--accent);color:#fff;border-color:transparent}

/* Filled day style */
.day.filled{border-color:rgba(15,23,42,0.04);color:var(--card)}

/* cursor affordance for draggable days */
.day.filled{cursor:grab}
.day.filled:active{cursor:grabbing}

/* Half-day diagonal divider (use on day elements to indicate a half day)
   Implementation notes:
   - ::before draws the filled triangle (higher opacity for visibility)
   - ::after draws a thin diagonal separator to make the split obvious
   - z-index ordering ensures the split is visible above most content but below the date number (which stays at z-index:5)
   Usage:
     - add `half` to any `.day` to show a diagonal split
     - use `.day.half.left` to fill the left/top half, or `.day.half.right` to fill the right/bottom half
*/
.day.half{position:relative;overflow:hidden}
.day.half::before,
.day.half::after{content:"";position:absolute;inset:0;pointer-events:none}

/* fill (triangle) */
.day.half::before{z-index:1;background:linear-gradient(135deg, rgba(37,99,235,0.18) 49.9%, transparent 50%)}
.day.half.left::before{background:linear-gradient(135deg, rgba(37,99,235,0.18) 49.9%, transparent 50%)}
.day.half.right::before{background:linear-gradient(315deg, rgba(37,99,235,0.18) 49.9%, transparent 50%)}

/* thin diagonal separator line */
.day.half::after{z-index:3;background:linear-gradient(135deg, transparent 49%, rgba(15,23,42,0.12) 49%, rgba(15,23,42,0.12) 51%, transparent 51%)}
.day.half.left::after{background:linear-gradient(135deg, transparent 49%, rgba(15,23,42,0.12) 49%, rgba(15,23,42,0.12) 51%, transparent 51%)}
.day.half.right::after{background:linear-gradient(315deg, transparent 49%, rgba(15,23,42,0.12) 49%, rgba(15,23,42,0.12) 51%, transparent 51%)}

/* when the day is also `.filled`, use a slightly darker fill so the half remains visible */
.day.filled.half::before{background:linear-gradient(135deg, rgba(2,6,23,0.10) 49.9%, transparent 50%)}
.day.filled.half.left::before{background:linear-gradient(135deg, rgba(2,6,23,0.10) 49.9%, transparent 50%)}
.day.filled.half.right::before{background:linear-gradient(315deg, rgba(2,6,23,0.10) 49.9%, transparent 50%)}

/* accessibility & focus */
.day:focus{outline:3px solid rgba(37,99,235,0.14)}

@media (max-width:980px){ .navbar{position:relative;width:100%;height:auto;left:auto;top:auto;position:relative} .app{flex-direction:column;height:auto} .calendar{margin-left:0;padding:12px} .year-grid{grid-template-columns:repeat(2,1fr)} }

/* Component-specific classes moved out from inline styles */
.spacer{margin-top:16px}
.spacer-top{margin-top:16px}
.label.spacer{margin-top:16px}
.flex-1{flex:1}

/* Navbar create ghost */
.create-ghost{cursor:pointer;opacity:0.9}
.create-icon{width:38px;height:38px;border-radius:6px;background:linear-gradient(135deg,#eef2ff,#e6f2ff);display:flex;align-items:center;justify-content:center;color:var(--muted);font-weight:700}
.muted-text{color:var(--muted)}
.cat-color{width:38px;height:38px;border-radius:6px}

.import-export{margin-top:24px;display:flex;gap:8px}
.file-input{display:none}

/* Calendar tweaks */
.month-title{text-align:center;margin:2px 0 8px}

/* Day modal classes */
.day-modal{min-width:360px}
.modal-section{margin-bottom:8px}
.modal-header{display:flex;gap:8px;align-items:center}
.cat-pill{width:24px;height:24px;border-radius:6px}
.swap-select{width:100%;padding:8px;border-radius:8px}
.seg-group{display:flex;gap:8px;margin-bottom:8px}

/* Category editor */
.editor-content{display:flex;flex-direction:column;gap:12px;min-width:340px;min-height:200px; padding-top: 5px;}
.mb-1{margin-bottom:8px}
.palette{display:flex;gap:8px;flex-wrap:wrap}
.swatch{width:40px;height:40px;border-radius:8px;cursor:pointer;border:1px solid var(--border);box-sizing:border-box}
.swatch.selected{border:3px solid rgba(37,99,235,0.18)}
.dialog-actions{padding:12px 24px}

